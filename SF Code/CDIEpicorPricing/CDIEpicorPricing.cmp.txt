<!-- <aura:component > -->
<!-- NOTE: "controller=" below indicates the apex class to be called -->
<aura:component implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global" controller="CDIEpicorPricing_apex">

<!-- //https://salesforce.stackexchange.com/questions/305639/component-set-does-not-pass-value-from-helper-to-controller-via-component -->
<!--aura:attribute name="consoleNavigation" type="Boolean" default="false" access="global"/ -->

     
    <aura:handler name="init" action="{!c.doInit}" value="{!this}"/>

    <aura:handler name="change" value="{!v.strOpportunityLineItemProductCode}" action="{!c.handleProductCodeChange}"/>

   	<aura:attribute name="lblGetPricing" type="String" default="Get Epicor Pricing" />
<!-- zzz  not help, put back later if this doesn't help at some point -->
    <!--lightning:button name="btnGetPricing" label="{!v.lblGetPricing}" onclick="{!c.handle_btnGetPricing}" /-->
    <lightning:button name="btnGetPricing" aura:id="btnGetPricing" label="{!v.lblGetPricing}" onclick="{!c.handle_btnGetPricing}" />

    <aura:attribute name="blnLoaded" type="Boolean" default="true" />
    <div class="spinnerDisplay">
        <aura:if isTrue="{! v.blnLoaded }">
            <aura:set attribute="else">
                <lightning:spinner alternativeText="Loading" size="small" />
            </aura:set>
        </aura:if>
    </div>

    <aura:attribute name="strMessage" type="String" default="Status: OK" />
    <aura:attribute name="strDebugMessage" type="String" default="" />
    <p>
    <lightning:formattedText name="lblMessage" value="{!v.strMessage}" />
    <lightning:formattedText name="lblDebugMessage" value="{!v.strDebugMessage}" />
    </p>
	
    <aura:attribute name="strOpportunityLineItemProductCode" type="String" default="" />
    <aura:attribute name="strEpicorPartUOM" type="String" default="" />
    <aura:attribute name="strEpicorCustId" type="String" default="" />
    <aura:attribute name="strCurrentInputField" type="String" default="" />
    
    <aura:attribute name="dQuantity1" type="Decimal" default="1" />
    <aura:attribute name="dQuantity2" type="Decimal" default="5" />
    <aura:attribute name="dQuantity3" type="Decimal" default="0" />
    <aura:attribute name="dQuantity4" type="Decimal" default="0" />
    <aura:attribute name="dQuantity5" type="Decimal" default="0" />

    <aura:attribute name="strUOM1" type="String" default="" />
    <aura:attribute name="strUOM2" type="String" default="" />
    <aura:attribute name="strUOM3" type="String" default="" />
    <aura:attribute name="strUOM4" type="String" default="" />
    <aura:attribute name="strUOM5" type="String" default="" />

    <aura:attribute name="strPriceTemp" type="String" default="0" />
    <aura:attribute name="strPrice1" type="String" default="0" />
    <aura:attribute name="strPrice2" type="String" default="0" />
    <aura:attribute name="strPrice3" type="String" default="" />
    <aura:attribute name="strPrice4" type="String" default="" />
    <aura:attribute name="strPrice5" type="String" default="" />
    
    <aura:attribute name="dExtPriceTemp" type="Decimal" default="0" />
    <aura:attribute name="dExtPrice1" type="Decimal" default="0" />
    <aura:attribute name="dExtPrice2" type="Decimal" default="0" />
    <aura:attribute name="dExtPrice3" type="Decimal" default="" />
    <aura:attribute name="dExtPrice4" type="Decimal" default="" />
    <aura:attribute name="dExtPrice5" type="Decimal" default="" />
    
    <aura:attribute name="strPriceCodeTemp" type="String" default="" />
    <aura:attribute name="strPriceCode1" type="String" default="" />
    <aura:attribute name="strPriceCode2" type="String" default="" />
    <aura:attribute name="strPriceCode3" type="String" default="" />
    <aura:attribute name="strPriceCode4" type="String" default="" />
    <aura:attribute name="strPriceCode5" type="String" default="" />

    
    
    <div class="c-container">
        <lightning:layout >
            
            <!-- Quantity Column -->
            <lightning:layoutItem padding="around-small">
                <div class="header-column">
                    <p class="field-title" title="Quantity">Quantity</p>
                	 
<!-- zzz -->
                    <!--lightning:input type="number" step="0.01" name="inputQuantity1" value="{!v.dQuantity1}" label="" /-->
<!-- error when load: Caused by: Assertion Failed!: Attribute not defined in the component : false
	 apparently needs to be:   ui:inputText -->
                    <!--lightning:input type="number" keyup="{!c.onKeyUp}" step="0.01" name="inputQuantity1" value="{!v.dQuantity1}" label="" /-->
<!-- this works, but for "regular" key, NOT <tab> key, UGHHH -->
                    <!--lightning:input onkeyup="{!c.onKeyUp}" type="number" step="0.01" name="inputQuantity1" value="{!v.dQuantity1}" label="" /-->
<!-- this works, but in controller & helper, can't get the key   -->
    				<!--lightning:input onkeydown="{!c.onKeyDown}" type="number" step="0.01" name="inputQuantity1" value="{!v.dQuantity1}" label="" /-->
<span onkeydown="{!c.keyQtyCheck}" class="inputQtyFieldsCheck">
<!-- NOTE: onkeydown does not work in an input field, need the span -->
                    <!--lightning:input type="number" step="0.01" aura:id="inputQuantity1" name="inputQuantity1" value="{!v.dQuantity1}" label="" /-->
                    <lightning:input aura:id="inputQuantity1" type="number" onfocus="{!c.onfocusCheck}" step="0.01"  name="inputQuantity1" value="{!v.dQuantity1}" label="" />

<!-- /span   -->

                    <p></p>
<!-- zzz  -->                    
                    <!--lightning:input type="number" step="0.01" name="inputQuantity2" value="{!v.dQuantity2}" label="" /-->
                    <lightning:input aura:id="inputQuantity2" type="number" onfocus="{!c.onfocusCheck}" step="0.01" name="inputQuantity2" value="{!v.dQuantity2}" label="" />

                    <p></p>
                    <lightning:input aura:id="inputQuantity3" type="number" onfocus="{!c.onfocusCheck}" step="0.01" name="inputQuantity3" value="{!v.dQuantity3}" label="" />
                    <p></p>
                    <lightning:input aura:id="inputQuantity4" type="number" onfocus="{!c.onfocusCheck}" step="0.01" name="inputQuantity4" value="{!v.dQuantity4}" label="" />
                    <p></p>
                    <lightning:input aura:id="inputQuantity5" type="number" onfocus="{!c.onfocusCheck}" step="0.01" name="inputQuantity5" value="{!v.dQuantity5}" label="" />

</span>

                </div>
            </lightning:layoutItem>

            <!-- UOM Column -->
            <lightning:layoutItem padding="around-small">
                <div class="header-column">
                    <p class="field-title" title="UOM">UOM</p>

<!-- zzz     -->
<span onkeydown="{!c.keyUOMCheck}" class="inputUOMFieldsCheck">
                    <!--lightning:input type="String" name="inputUOM1" style="width: 70px" value="{!v.strUOM1}" label="" /-->
                    <lightning:input type="String" aura:id="inputUOM1" name="inputUOM1" onfocus="{!c.onfocusCheck}" style="width: 70px" value="{!v.strUOM1}" label="" />

                    
                    <p></p>
                    <lightning:input type="String" aura:id="inputUOM2" name="inputUOM2" onfocus="{!c.onfocusCheck}" style="width: 70px" value="{!v.strUOM2}" label="" />
                    <p></p>
                    <lightning:input type="String" aura:id="inputUOM3" name="inputUOM3" onfocus="{!c.onfocusCheck}" style="width: 70px" value="{!v.strUOM3}" label="" />
                    <p></p>
                    <lightning:input type="String" aura:id="inputUOM4" name="inputUOM4" onfocus="{!c.onfocusCheck}" style="width: 70px" value="{!v.strUOM4}" label="" />
                    <p></p>
                    <lightning:input type="String" aura:id="inputUOM5" name="inputUOM5" onfocus="{!c.onfocusCheck}" style="width: 70px" value="{!v.strUOM5}" label="" />
</span>

                </div>
            </lightning:layoutItem> 
             
            <!-- Price Column -->
            <lightning:layoutItem padding="around-small">  
                <div class="header-column">
                    <p class="field-title" title="Price">Price</p>

                    <lightning:input type="String" name="dispPrice1" readonly="true" value="{!v.strPrice1}" label="" />
                    <p></p>
                    <lightning:input type="String" name="dispPrice2" readonly="true" value="{!v.strPrice2}" label="" />
                    <p></p>
                    <lightning:input type="String" name="dispPrice3" readonly="true" value="{!v.strPrice3}" label="" />
                    <p></p>
                    <lightning:input type="String" name="dispPrice4" readonly="true" value="{!v.strPrice4}" label="" />
                    <p></p>
                    <lightning:input type="String" name="dispPrice5" readonly="true" value="{!v.strPrice5}" label="" />

                </div>
            </lightning:layoutItem> 

            <!-- Ext Price Column -->
            <lightning:layoutItem padding="around-small">  
                <div class="header-column">
                    <p class="field-title" title="ExtPrice">Ext Price</p>

                    <lightning:input type="number" step="0.01" name="dispExtPrice1" readonly="true" value="{!v.dExtPrice1}" label="" />
                    <p></p>
                    <lightning:input type="number" step="0.01" name="dispExtPrice2" readonly="true" value="{!v.dExtPrice2}" label="" />
                    <p></p>
                    <lightning:input type="number" step="0.01" name="dispExtPrice3" readonly="true" value="{!v.dExtPrice3}" label="" />
                    <p></p>
                    <lightning:input type="number" step="0.01" name="dispExtPrice4" readonly="true" value="{!v.dExtPrice4}" label="" />
                    <p></p>
                    <lightning:input type="number" step="0.01" name="dispExtPrice5" readonly="true" value="{!v.dExtPrice5}" label="" />

                </div>
            </lightning:layoutItem> 

            
            <!-- Price Code Column -->
            <lightning:layoutItem padding="around-small">                
                <div class="header-column">
                    <p class="field-title" title="Price Code">Price Code</p>

                    <lightning:input type="String" name="dispPriceCode1" style="width: 200px" readonly="true" value="{!v.strPriceCode1 }" label="" />
                    <p></p>
                    <lightning:input type="String" name="dispPriceCode2" style="width: 200px" readonly="true" value="{!v.strPriceCode2}" label="" />
                    <p></p> 
					<lightning:input type="String" name="dispPriceCode3" style="width: 200px" readonly="true" value="{!v.strPriceCode3}" label="" />
                    <p></p>
                    <lightning:input type="String" name="dispPriceCode4" style="width: 200px" readonly="true" value="{!v.strPriceCode4}" label="" />
                    <p></p>
                    <lightning:input type="String" name="dispPriceCode5" style="width: 200px" readonly="true" value="{!v.strPriceCode5}" label="" />

                </div>
            </lightning:layoutItem>
            
            <!-- Blank Column (for spacing) -->
            <lightning:layoutItem padding="around-small">
                <div class="header-column">
                    <p class="field-title" title=" "></p>

                    <lightning:input type="String" name="dispBlank1" readonly="true" value=" " label="" />
                    <p></p>
                    <lightning:input type="String" name="dispBlank2" readonly="true" value=" " label="" />
                    <p></p>
                    <lightning:input type="String" name="dispBlank3" readonly="true" value=" " label="" />
                    <p></p>
                    <lightning:input type="String" name="dispBlank4" readonly="true" value=" " label="" />
                    <p></p>
                    <lightning:input type="String" name="dispBlank5" readonly="true" value=" " label="" />

                </div>
            </lightning:layoutItem> 
            
            
        </lightning:layout>
    </div>
    
</aura:component>