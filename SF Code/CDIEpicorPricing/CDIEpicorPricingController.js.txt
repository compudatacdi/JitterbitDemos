({
	myAction : function(component, event, helper) {
		
	}, 
        

    doInit : function(component, event, helper) 
    {
        //alert("doInit"); 
        
        //get and store the product on the current sf opportunity line item
		helper.getOpportunityLineItemProductCode(
            component, event, helper, 
            function(){
            }
        );

    },


    handleValueChange : function (component, event, helper) {
        //alert("old value: " + event.getParam("oldValue"));
        //alert("current value: " + event.getParam("value"));        

        var strPartNum = event.getParam("value");
        
        //get and store the epicor part info
        helper.getEpicorPart(
            component, event, helper, 
            strPartNum,
            function(){                
            }    
        );
        
    },
       

    //https://salesforce.stackexchange.com/questions/211053/accessing-data-in-the-controller-and-app-file-that-is-returned-from-a-helper-fun/211054#211054
    handle_btnGetPricing_poc_this_works : function(component, event, helper) 
    {
		helper.loadData(component, event, helper, "part x", function(){
			component.set("v.valuePriceCode1", component.get("v.valuePriceCodeTemp"));
		}); 

        helper.loadData(component, event, helper, "part z", function(){
			component.set("v.valuePriceCode2", component.get("v.valuePriceCodeTemp"));
      	}); 
                
    },

/*
    getRestOfPricing : function(component, event, helper) 
    {
component.set("v.lblDebugMessage", " / getRestOfPricing 2 ");   

        if(component.get("v.valueQuantity2") != 0)
        {
component.set("v.lblDebugMessage", " / getRestOfPricing 3xx ");   
			component.set('v.loaded', false);
            helper.getEpicorPricing(
                component, event, helper, 
	            component.get("v.epicorCustId"),
                strPartNum,
                component.get("v.valueQuantity2"),
                component.get("v.epicorPartUOM"),
                function(){
component.set("v.lblDebugMessage", " / getRestOfPricing 4 ");     
                    component.set("v.valuePrice2", component.get("v.valuePriceTemp"));
                    component.set("v.valuePriceCode2", component.get("v.valuePriceCodeTemp")); 
			        component.set("v.lblMessage", "Epicor Data Loaded xxx");
					component.set('v.loaded', true);
                }
            ); 
        };
    },
*/
    
    
    handle_btnGetPricing : function(component, event, helper) 
    { 
        component.set("v.lblMessage", "Retrieving Information....");
        component.set("v.lblDebugMessage", "");

        component.set("v.valuePrice1", "");
        component.set("v.valuePriceCode1", ""); 
        component.set("v.valuePrice2", "");
        component.set("v.valuePriceCode2", ""); 
        component.set("v.valuePrice3", "");
        component.set("v.valuePriceCode3", ""); 
        component.set("v.valuePrice4", "");
        component.set("v.valuePriceCode4", ""); 
        component.set("v.valuePrice5", "");
        component.set("v.valuePriceCode5", ""); 

        component.set('v.loaded', false);
        var strPartNum = component.get("v.opportunityLineItemProductCode");
        
//component.set("v.lblDebugMessage", "1.1");

        helper.getEpicorPricing(
            component, event, helper, 
            component.get("v.epicorCustId"),
            strPartNum,
            component.get("v.valueQuantity1"),
            component.get("v.epicorPartUOM"),
            function(){
		        
//zzz
                //!!! original code, don't delete yet: 
                //component.set("v.valuePrice1", component.get("v.valuePriceTemp"));
                //component.set("v.valuePriceCode1", component.get("v.valuePriceCodeTemp")); 
                //component.set("v.lblMessage", "Epicor Data Loaded");
                
//NOT A VALID TEST, AS THE FORM HASN'T COMPLETED BEING UPDATED YET??
//BUT!!!  the other values above are ok, why not lblMessage? 
                //if(component.get("v.lblMessage") Contains  'x'  ){
                if(component.get("v.lblMessage").indexOf('Error') == -1  ){
                    component.set("v.valuePrice1", component.get("v.valuePriceTemp"));
                    component.set("v.valuePriceCode1", component.get("v.valuePriceCodeTemp")); 
                	component.set("v.lblMessage", "Epicor Data Loaded");                    

                    //getRestOfPricing();
                    //var getRestOfPricing = component.get('c.getRestOfPricing');
                    //$A.enqueueAction(getRestOfPricing);

                    //note: tried breaking this out to it's own method, but strange things happen
                    if(component.get("v.valueQuantity2") != 0)
                    {
                        component.set('v.loaded', false);
                        helper.getEpicorPricing(
                            component, event, helper, 
                            component.get("v.epicorCustId"),
                            strPartNum,
                            component.get("v.valueQuantity2"),
                            component.get("v.epicorPartUOM"),
                            function(){
                                component.set("v.valuePrice2", component.get("v.valuePriceTemp"));
                                component.set("v.valuePriceCode2", component.get("v.valuePriceCodeTemp")); 
                                component.set("v.lblMessage", "Epicor Data Loaded");
                                component.set('v.loaded', true);
                            }
                        ); 
                    };
                    
                    
                    if(component.get("v.valueQuantity3") != 0)
                    {
                        component.set('v.loaded', false);
                        helper.getEpicorPricing(
                            component, event, helper, 
                            component.get("v.epicorCustId"),
                            strPartNum,
                            component.get("v.valueQuantity3"),
                            component.get("v.epicorPartUOM"),
                            function(){
                                component.set("v.valuePrice3", component.get("v.valuePriceTemp"));
                                component.set("v.valuePriceCode3", component.get("v.valuePriceCodeTemp"));
                                component.set("v.lblMessage", "Epicor Data Loaded");
                                component.set('v.loaded', true);
                            }
                        ); 
                    };
            
                    if(component.get("v.valueQuantity4") != 0)
                    {
                        component.set('v.loaded', false);
                        helper.getEpicorPricing(
                            component, event, helper, 
                            component.get("v.epicorCustId"),
                            strPartNum,
                            component.get("v.valueQuantity4"),
                            component.get("v.epicorPartUOM"),
                            function(){
                                component.set("v.valuePrice4", component.get("v.valuePriceTemp"));
                                component.set("v.valuePriceCode4", component.get("v.valuePriceCodeTemp")); 
                                component.set("v.lblMessage", "Epicor Data Loaded");
                                component.set('v.loaded', true);
                            }
                        ); 
                    };
            
                    if(component.get("v.valueQuantity5") != 0)
                    {
                        component.set('v.loaded', false);
                        helper.getEpicorPricing(
                            component, event, helper, 
                            component.get("v.epicorCustId"),
                            strPartNum,
                            component.get("v.valueQuantity5"),
                            component.get("v.epicorPartUOM"),
                            function(){
                                component.set("v.valuePrice5", component.get("v.valuePriceTemp"));
                                component.set("v.valuePriceCode5", component.get("v.valuePriceCodeTemp")); 
                                component.set("v.lblMessage", "Epicor Data Loaded");
                                component.set('v.loaded', true);
                            } 
                        ); 
                    };

                    
                }
/*
                else{
                    //component.set("v.lblMessage", "Epicor Data Loaded"); 
//component.set("v.lblDebugMessage", " / x "); 
                }
*/
//component.set("v.lblDebugMessage", " / lblMessage 3: " + component.get("v.lblMessage")); 
//  >>  Epicor Data Loaded 
                
				component.set('v.loaded', true);
//component.set("v.lblDebugMessage", " / xx ");  

            }
        );

//component.set("v.lblDebugMessage", " / index: " + component.get("v.lblMessage").indexOf('Error'));
//component.set("v.lblDebugMessage", " / lblMessage: " + component.get("v.lblMessage")); 
//  >> Retrieving Information....
//  >>>> timing issue due to outside of the area above
//component.set("v.lblDebugMessage", " / xxxx");   
        
/*
var getRestOfPricing = component.get('c.getRestOfPricing');
$A.enqueueAction(getRestOfPricing);
*/
        
/*
        if(component.get("v.valueQuantity2") != 0)
        {
			component.set('v.loaded', false);
            helper.getEpicorPricing(
                component, event, helper, 
	            component.get("v.epicorCustId"),
                strPartNum,
                component.get("v.valueQuantity2"),
                component.get("v.epicorPartUOM"),
                function(){
                    component.set("v.valuePrice2", component.get("v.valuePriceTemp"));
                    component.set("v.valuePriceCode2", component.get("v.valuePriceCodeTemp")); 
			        component.set("v.lblMessage", "Epicor Data Loaded");
					component.set('v.loaded', true);
                }
            ); 
        };
        
        
        if(component.get("v.valueQuantity3") != 0)
        {
			component.set('v.loaded', false);
            helper.getEpicorPricing(
                component, event, helper, 
                component.get("v.epicorCustId"),
                strPartNum,
                component.get("v.valueQuantity3"),
                component.get("v.epicorPartUOM"),
                function(){
                    component.set("v.valuePrice3", component.get("v.valuePriceTemp"));
                    component.set("v.valuePriceCode3", component.get("v.valuePriceCodeTemp"));
			        component.set("v.lblMessage", "Epicor Data Loaded");
					component.set('v.loaded', true);
                }
            ); 
        };

        if(component.get("v.valueQuantity4") != 0)
        {
			component.set('v.loaded', false);
            helper.getEpicorPricing(
                component, event, helper, 
	            component.get("v.epicorCustId"),
                strPartNum,
                component.get("v.valueQuantity4"),
                component.get("v.epicorPartUOM"),
                function(){
                    component.set("v.valuePrice4", component.get("v.valuePriceTemp"));
                    component.set("v.valuePriceCode4", component.get("v.valuePriceCodeTemp")); 
			        component.set("v.lblMessage", "Epicor Data Loaded");
					component.set('v.loaded', true);
                }
            ); 
        };

        if(component.get("v.valueQuantity5") != 0)
        {
			component.set('v.loaded', false);
            helper.getEpicorPricing(
                component, event, helper, 
	            component.get("v.epicorCustId"),
                strPartNum,
                component.get("v.valueQuantity5"),
                component.get("v.epicorPartUOM"),
                function(){
                    component.set("v.valuePrice5", component.get("v.valuePriceTemp"));
                    component.set("v.valuePriceCode5", component.get("v.valuePriceCodeTemp")); 
			        component.set("v.lblMessage", "Epicor Data Loaded");
					component.set('v.loaded', true);
                } 
            ); 
        };
*/

    },

})